declare @FechaIni as DateTime
declare @FechaFin as DateTime
declare @Alumno as Integer
declare @AlumnoIni as Integer
declare @AlumnoFin as Integer
declare @Grupo as integer
declare @Ciclo as Integer
declare @Maestro as Integer
declare @MaestroIni as Integer
declare @MaestroFin as Integer
declare @Nivel as Integer
declare @TipoPago as Integer
declare @TipoCalificacion as Integer
declare @Usuario as Integer
declare @Familia as Integer
declare @Valor1 as Integer
declare @Status as Integer
declare @Serie as varchar(500)
declare @Factura as Integer
declare @FacturasCompras as Integer
declare @TurnoInicio as Integer
declare @TurnoFin as Integer
declare @NumeroEstacion as Integer
declare @HorarioIni as Integer
declare @HorarioFin as Integer
declare @NumeroEstacionIni as Integer
declare @NumeroEstacionFin as Integer

select @FechaIni=:FechaIni
select @FechaFin=:FechaFin
select @Alumno=:Alumno
select @AlumnoIni=:AlumnoIni
select @AlumnoFin=:AlumnoFin
select @Grupo=:Grupo
select @Ciclo=:Ciclo
select @Maestro=:Maestro
select @MaestroIni=:MaestroIni
select @MaestroFin=:MaestroFin
select @Nivel=:Nivel
select @TipoPago=:TipoPago
select @TipoCalificacion=:TipoCalificacion
select @Usuario=:Usuario
select @Familia=:Familia
select @Valor1=:Valor1
select @Status=:Status
select @Serie=:Serie
select @Factura=:Factura
select @FacturasCompras=:FacturasCompras
select @TurnoInicio=:TurnoInicio
select @TurnoFin=:TurnoFin
select @NumeroEstacion=:NumeroEstacion
select @HorarioIni=:HorarioIni
select @HorarioFin=:HorarioFin
select @NumeroEstacionIni=:NumeroEstacionIni
select @NumeroEstacionFin=:NumeroEstacionFin
SELECT     Factura.FacturaID, Factura.Serie, Factura.Folio, Estacion.Nombre AS ESNombre, Estacion.RazonSocial AS ESRazonSocial,factura.formapagoID as formadepago, 
                      Estacion.RFC AS ESRFC, Estacion.Calle AS ESCalle, Estacion.Colonia AS ESColonia, Estacion.NoExterior AS ESNoExterior, Estacion.NoInterior AS ESNoInterior, 
                      Estacion.CodigoPostal AS ESCodigoPostal, Estacion.Municipio AS ESMunicipio, Estacion.Localidad AS ESLocalidad, Estacion.Estado AS ESEstado, Estacion.ExCalle, 
                      Estacion.ExColonia, Estacion.ExNoExterior, Estacion.ExNoInterior, Estacion.ExCodigoPostal, Estacion.ExMunicipio, Estacion.ExLocalidad, Estacion.ExEstado, 
                      Cliente.idCliente,Cliente.Nombre, Cliente.RFC, Cliente.Calle, Cliente.Colonia, Cliente.NoExterior, Cliente.NoInterior, Cliente.CodigoPostal, Cliente.Ciudad AS Municipio, 
                      Cliente.Localidad, Cliente.Estado, Factura.FechaFacturaE AS Fecha, Factura.NoCertificado, Factura.NoAprobacion, Factura.EjercicioAprobacion, 
                      Factura.CadenaOriginal, Factura.SelloDigital, Factura.Tickets, Factura.Subtotal, Factura.Impuesto, Factura.Total, Factura.ImpuestoPorcentaje, 
                      DetalleFactura.Cantidad, DetalleFactura.Precio, DetalleFactura.Importe, DetalleFactura.ProductoID, Producto.CODIGOPRODUCTO, 
                      Producto.Nombre AS Producto, Estacion.IDESTACION, UNIDADESMEDIDA.DESCRIPCION, Factura.CBB, Factura.NoCertificadoSAT, Factura.UUID, Factura.Acuse, Factura.SelloSAT,
                      Factura.CADENATIMBRE, FechaTimbrado, Cliente.CCA, Estacion.RegimenFiscal 
FROM         Factura INNER JOIN
                      DetalleFactura ON Factura.FacturaID = DetalleFactura.FacturaID INNER JOIN
                      Producto ON DetalleFactura.ProductoID = Producto.IDPRODUCTO INNER JOIN
                      CLIENTEEFECTIVO AS Cliente ON Factura.ClienteID = Cliente.IDCLIENTE INNER JOIN
                      Estacion ON Factura.EstacionID = Estacion.IDESTACION INNER JOIN
                      UNIDADESMEDIDA ON UNIDADESMEDIDA.IDUNIDADMEDIDA = PRODUCTO.IDUNIDADMEDIDA 
WHERE     (Factura.EstacionID = @NUMEROESTACION) AND (Factura.FacturaID = @FACTURA)
