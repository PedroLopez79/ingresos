unit ufrmSaldosPageDown;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, cxGraphics, cxControls, cxLookAndFeels, cxLookAndFeelPainters,
  cxStyles, dxSkinsCore, dxSkinBlack, dxSkinBlue, dxSkinCaramel, dxSkinCoffee,
  dxSkinDarkRoom, dxSkinDarkSide, dxSkinFoggy, dxSkinGlassOceans,
  dxSkiniMaginary, dxSkinLilian, dxSkinLiquidSky, dxSkinLondonLiquidSky,
  dxSkinMcSkin, dxSkinMoneyTwins, dxSkinOffice2007Black, dxSkinOffice2007Blue,
  dxSkinOffice2007Green, dxSkinOffice2007Pink, dxSkinOffice2007Silver,
  dxSkinPumpkin, dxSkinSeven, dxSkinSharp, dxSkinSilver, dxSkinSpringTime,
  dxSkinStardust, dxSkinSummer2008, dxSkinsDefaultPainters, dxSkinValentine,
  dxSkinXmas2008Blue, dxSkinscxPCPainter, cxCustomData, cxFilter, cxData,
  cxDataStorage, cxEdit, DB, cxDBData, cxGridLevel, cxGridCustomTableView,
  cxGridTableView, cxGridDBTableView, cxClasses, cxGridCustomView, cxGrid,
  uDAInterfaces, uDADataTable, uDAScriptingProvider, uDAMemDataTable;

type
  TDatosFacturaCliente = class(TForm)
    cxGrid2: TcxGrid;
    cxGridDBTableView1: TcxGridDBTableView;
    cxGrid1DBTableView1CargoAbonoID: TcxGridDBColumn;
    cxGrid1DBTableView1FechaMovimiento: TcxGridDBColumn;
    cxGrid1DBTableView1Referencia: TcxGridDBColumn;
    cxGrid1DBTableView1Cargo: TcxGridDBColumn;
    cxGrid1DBTableView1Abono: TcxGridDBColumn;
    cxGrid1DBTableView1Column1: TcxGridDBColumn;
    cxGridLevel1: TcxGridLevel;
    cdsSaldo: TDAMemDataTable;
    dsSaldo: TDADataSource;
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  DatosFacturaCliente: TDatosFacturaCliente;
  EJERCICIO, CLIENTEINI, CLIENTEFIN, INI,
  FIN, GRUPOFACTURARID, FORMACOMPRAID, GRUPO: Integer

function Abrir_ModuloSaldosCliente(EJERCICIO,
                                   CLIENTEINI,
                                   CLIENTEFIN,
                                   INI,
                                   FIN,
                                   GRUPOFACTURARID,
                                   FORMACOMPRAID,
                                   GRUPO: Integer):String;

implementation

{$R *.dfm}

function Abrir_ModuloSaldosCliente(EJERCICIO,
                                   CLIENTEINI,
                                   CLIENTEFIN,
                                   INI,
                                   FIN,
                                   GRUPOFACTURARID,
                                   FORMACOMPRAID,
                                   GRUPO: Integer):String;
begin
  DatosFacturaCliente:=TDatosFacturaCliente.Create(Application);



  DatosFacturaCliente.ShowModal;

  Result:= '';
  DatosFacturaCliente.Free;
end;

procedure TDatosFacturaCliente.FormShow(Sender: TObject);
begin
  Screen.Cursor:=crHourGlass;
  cdsSaldo.Close;
  cdsSaldo.ParamByName('Ejercicio').AsInteger:=Trunc(edtEjercicio.Value);
  cdsSaldo.ParamByName('ClienteIni').AsInteger:=cdsCatalogo.FieldByName('ClienteID').AsInteger;
  cdsSaldo.ParamByName('ClienteFin').AsInteger:=cdsCatalogo.FieldByName('ClienteID').AsInteger;
  cdsSaldo.ParamByName('Ini').AsInteger:= cbPeriodoIni.EditValue;
  cdsSaldo.ParamByName('Fin').AsInteger:= cbPeriodoFin.EditValue;
  cdsSaldo.ParamByName('GrupoFacturarID').AsInteger:=0;
  cdsSaldo.ParamByName('FormaCompraID').AsInteger:=0;
  cdsSaldo.ParamByName('Grupo').AsString:='';
  cdsSaldo.Open;
end;

end.
