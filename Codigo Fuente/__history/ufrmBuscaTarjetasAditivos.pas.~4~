unit ufrmBuscarTarjetasAditivos;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, ExtCtrls, DateUtils, cxGraphics, cxLookAndFeels,
  cxLookAndFeelPainters, Menus, dxSkinsCore, dxSkinBlack, dxSkinBlue,
  dxSkinCaramel, dxSkinCoffee, dxSkinDarkRoom, dxSkinDarkSide, dxSkinFoggy,
  dxSkinGlassOceans, dxSkiniMaginary, dxSkinLilian, dxSkinLiquidSky,
  dxSkinLondonLiquidSky, dxSkinMcSkin, dxSkinMoneyTwins, dxSkinOffice2007Black,
  dxSkinOffice2007Blue, dxSkinOffice2007Green, dxSkinOffice2007Pink,
  dxSkinOffice2007Silver, dxSkinPumpkin, dxSkinSeven, dxSkinSharp, dxSkinSilver,
  dxSkinSpringTime, dxSkinStardust, dxSkinSummer2008, dxSkinsDefaultPainters,
  dxSkinValentine, dxSkinXmas2008Blue, cxButtons, ComCtrls,
  uDAScriptingProvider, uDADataTable, uDAMemDataTable, cxControls, cxStyles,
  dxSkinscxPCPainter, cxCustomData, cxFilter, cxData, cxDataStorage, cxEdit, DB,
  cxDBData, dxSkinsdxRibbonPainter, cxContainer, cxGroupBox, uDAInterfaces,
  uDARemoteDataAdapter, uDACDSDataTable, dxRibbon, cxGridLevel,
  cxGridCustomTableView, cxGridTableView, cxGridDBTableView, cxClasses,
  cxGridCustomView, cxGrid;

type
  TfrmBuscarTarjetasAdivitos = class(TForm)
    Panel1: TPanel;
    dbgAgrupacion: TcxGrid;
    cxGridDBTableView1: TcxGridDBTableView;
    cxGridDBTableView1Column1: TcxGridDBColumn;
    cxGridDBTableView1Column2: TcxGridDBColumn;
    cxGridDBTableView1Column3: TcxGridDBColumn;
    cxGridLevel1: TcxGridLevel;
    dxRibbon1: TdxRibbon;
    cdsBuscar: TDACDSDataTable;
    rdaTarjetasAditivos: TDARemoteDataAdapter;
    dsBuscar: TDADataSource;
    cxGroupBox1: TcxGroupBox;
    cxButton1: TcxButton;
    cxButton2: TcxButton;
    procedure Button1Click(Sender: TObject);
    procedure Button2Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmBuscarTarjetasAdivitos: TfrmBuscarTarjetasAdivitos;

function Abrir_BuscarTarjetaAditivos(ClienteID: Integer):String;

implementation
uses  uDM;

{$R *.dfm}

function Abrir_BuscarTarjetaAditivos(ClienteID: Integer):String;
Begin
  frmBuscarTarjetasAdivitos:=TfrmBuscarTarjetasAdivitos.Create(Application);

  frmBuscarTarjetasAdivitos.ClienteID:= ClienteID;

  Fo_ayudaRFC.ShowModal;

  Result:= Fo_ayudaRFC.Ed_RFC.Text;
  Fo_ayudaRFC.Free;
End;

procedure TfrmBuscarTarjetasAdivitos.Button1Click(Sender: TObject);
begin
  spObtenRFC.Close;
  spObtenRFC.ParamByName('NOMBRES').AsString:= Ed_Nombre.Text;
  spObtenRFC.ParamByName('AMATERNO').AsString:= Ed_ApellidoMat.Text;
  spObtenRFC.ParamByName('APATERNO').AsString:= Ed_ApellidoPat.Text;
  spObtenRFC.ParamByName('FECHANAC').AsDateTime:= FechaNac.Date;
  spObtenRFC.Open;
  Ed_RFC.text:= spObtenRFC.FieldByName('RFC').AsString;
end;

procedure TfrmBuscarTarjetasAdivitos.Button2Click(Sender: TObject);
begin
  Close;
end;

end.
